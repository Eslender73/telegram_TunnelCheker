### **ุฑุจุงุช ุชูฺฏุฑุงู ูุงูุชูุฑูฺฏ ุดุจฺฉู (TunnelCheker)** ###



ุฑุจุงุช ุชูฺฏุฑุงู TunnelCheker ฺฉ ุงุจุฒุงุฑ ูุฏุฑุชููุฏ ู ุฎูุฏฺฉุงุฑ ุจุฑุง ูุธุงุฑุช ุจุฑ ูุถุนุช ูพุงุฏุงุฑ ุดุจฺฉู ู ุณุฑูุฑูุง ุดูุงุณุช. ุงู ุฑุจุงุช ุฏุฑ ุจุงุฒูโูุง ุฒูุงู ูุดุฎุตุ ุณุฑูุฑูุง ุชุนุฑูโุดุฏู ุฑุง ูพูฺฏ ฺฉุฑุฏู ู ูุถุนุช ูพฺฉุช ูุงุณุช (Packet Loss) ุฑุง ุจู ุฏูุช ุจุฑุฑุณ ูโฺฉูุฏ. ุฏุฑ ุตูุฑุช ุนุจูุฑ ูพฺฉุช ูุงุณุช ุงุฒ ุขุณุชุงููโ ุชุนุฑูโุดุฏู (ุดูุงุณุง ูุทุน) ุง ุจุงุฒฺฏุดุช ุจู ุญุงูุช ูพุงุฏุงุฑ (ุฑูุน ูุดฺฉู)ุ ุฑุจุงุช ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ฺฏุฒุงุฑุดโูุง ุฏูู ู ฺฉุงูู ุจู ฺฉุงูุงู ุง ฺฏุฑูู ุชูฺฏุฑุงู ุดูุง ุงุฑุณุงู ูโฺฉูุฏ.

ุงู ูพุฑูฺู ุจุง ฺฉ ุงุณฺฉุฑูพุช ูุฏุฑุช ููุดููุฏ ุงุฑุงุฆู ูโุดูุฏ ฺฉู ูุฑุขูุฏ ูุตุจุ ูพฺฉุฑุจูุฏุ ุญุฐู ู ูพุดุชุจุงูโฺฏุฑ ุฑุง ุงุฒ ุทุฑู ฺฉ ููู ุชุนุงูู (TUI) ุจุณุงุฑ ุณุงุฏู ฺฉุฑุฏู ุงุณุช.

๐ ูฺฺฏโูุง ฺฉูุฏ

โ ูพูฺฏ ููุดููุฏ: ุจุฑุฑุณ ุฏูุฑูโุง ุณุฑูุฑูุง ููุตุฏ ุจุฑ ุงุณุงุณ ุขุฏุฑุณ IPv4 ู IPv6 ุจุฑุง ูพฺฉุช ูุงุณุช ู ุฒูุงู ูพุงุณุฎฺฏู.

โ๏ธ ฺฏุฒุงุฑุด ุฎุฑุงุจ ููุฑ: ุงุฑุณุงู ุขู ูุดุฏุงุฑ ุจู ุชูฺฏุฑุงู ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุทุน ู ุนุจูุฑ ูพฺฉุช ูุงุณุช ุงุฒ ุขุณุชุงูู ูุฌุงุฒ.

๐ ุงุทูุงุนโุฑุณุงู ุฑูุน ูุดฺฉู: ุงุฑุณุงู ฺฏุฒุงุฑุด ุฎูุฏฺฉุงุฑ ูพุณ ุงุฒ ูพุงุฏุงุฑ ุดุฏู ูุถุนุช ู ุจุงุฒฺฏุดุช ูพฺฉุช ูุงุณุช ุจู ุตูุฑ.

โ๏ธ ูุนูุงุฑ Master/Client: ูุงุจูุช ูุตุจ ุฏุฑ ุฏู ุญุงูุช ฺฉูุงูุช (ุจุฑุง ูพูฺฏ ฺฉุฑุฏู ุฑู ุณุฑูุฑูุง ูุฎุชูู) ู ูุณุชุฑ (ุจุฑุง ุฏุฑุงูุช ฺฏุฒุงุฑุดโูุง ู ุงุฑุณุงู ุจู ุชูฺฏุฑุงู)ุ ฺฉู ุงูฺฉุงู ูุฏุฑุช ูุชูุฑฺฉุฒ ุฏูโูุง ุณุฑูุฑ ุฑุง ูุฑุงูู ูโฺฉูุฏ.


ุงู ุงุจุฒุงุฑ ูโุชูุงูุฏ ุฏุฑ ุฏู ุญุงูุช ูุฎุชูู ูุตุจ ู ุงุฌุฑุง ุดูุฏ:


**ุญุงูุช Client :**


ูุธูู: ุงุฌุฑุง ูพูฺฏโูุง ุฏูุฑูโุง ุฑู ุณุฑูุฑูุง ุชุนุฑูโุดุฏู ุฏุฑ ูุงู config.json


ุนููฺฉุฑุฏ: ฺฉูุงูุช ูพุณ ุงุฒ ุงูุฌุงู ูพูฺฏุ ูุชุงุฌ ุฑุง ุจุฑุง ุณุฑูุฑ Master ุงุฑุณุงู ูโฺฉูุฏ. ฺูุฏู ฺฉูุงูุช ูโุชูุงููุฏ ฺฏุฒุงุฑุดโูุง ุฎูุฏ ุฑุง ุจู ฺฉ ุณุฑูุฑ Master ุงุฑุณุงู ฺฉููุฏ.


**ุญุงูุช Master :**


ูุธูู: ุฏุฑุงูุช ู ุชุญูู ุฏุงุฏูโูุง ุงุฑุณุงู ุงุฒ ุชูุงู ฺฉูุงูุชโูุง.


ุนููฺฉุฑุฏ: ุณุฑูุฑ Master ููุจ ุณุณุชู ุงุทูุงุนโุฑุณุงู ุงุณุช. ุงู ุณุฑูุฑ ูพุณ ุงุฒ ุฏุฑุงูุช ฺฏุฒุงุฑุด ุงุฒ ฺฉูุงูุชโูุงุ ูุถุนุช ูพฺฉุช ูุงุณุช ุฑุง ุจุฑุฑุณ ฺฉุฑุฏู ู ุฏุฑ ุตูุฑุช ูุงุฒุ ูพุงู ูุดุฏุงุฑ ุง ุฑูุน ูุดฺฉู ุฑุง ุงุฒ ุทุฑู ุฑุจุงุช ุชูฺฏุฑุงู ุจู ฺฉุงูุงู ุง ฺฏุฑูู ูุดุฎุตโุดุฏู ุงุฑุณุงู ูโฺฉูุฏ.


๐๏ธ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ


ฺฉุงูุณุช ุฏุณุชูุฑ ุฒุฑ ุฑุง ุฏุฑ ุชุฑููุงู ุณุฑูุฑ ุฎูุฏ ูุงุฑุฏ ู ุงุฌุฑุง ฺฉูุฏ:

TunnelCheker script:
```bash
bash -c "$(curl -fsSL Https://raw.githubusercontent.com/Eslender73/telegram_TunnelCheker/main/manager.sh)"
```




โ๏ธ ูุญูู ุงุณุชูุงุฏู ู ูุฏุฑุช

ูพุณ ุงุฒ ูุตุจุ ฺฉุงูุณุช ุฏุฑ ูุฑ ูุณุฑ ุงุฒ ุชุฑููุงู ุฎูุฏ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ููู ูุฏุฑุช ุฏูุจุงุฑู ููุงุด ุฏุงุฏู ุดูุฏ:


```Bash
manager
```
ุงู ููู ฺฏุฒููโูุง ุฒุฑ ุฑุง ุฏุฑ ุงุฎุชุงุฑ ุดูุง ูุฑุงุฑ ูโุฏูุฏ:


Install TunnelCheker: ุจุฑุง ูุตุจ ุงููู (ุฏุฑ ุตูุฑุช ฺฉู ุจุฑูุงูู ูุตุจ ูุจุงุดุฏ).

Edit Configuration: ุจุฑุง ูุฑุงุด ุณุฑุน ูุงูโูุง config.json ุง master_config.json. ูพุณ ุงุฒ ุฐุฎุฑูุ ุณุฑูุณ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฑโุงุณุชุงุฑุช ูโุดูุฏ.

Uninstall TunnelCheker: ุจุฑุง ุญุฐู ฺฉุงูู ุจุฑูุงูู ู ุณุฑูุณ systemd. ุงู ฺฏุฒูู ุงุฒ ุดูุง ูโูพุฑุณุฏ ฺฉู ุขุง ูุงู ุจู ูฺฏูุฏุงุฑ ูุงูโูุง ฺฉุงููฺฏ ุฎูุฏ ูุณุชุฏ ุง ุฎุฑ.

Restore Backup: ุจุฑุง ูุดุงูุฏู ูุณุช ูพุดุชุจุงูโูุง ููุฌูุฏ ู ุจุงุฒฺฏุฑุฏุงู ุชูุธูุงุช ุงุฒ ฺฉ ูุณุฎู ูพุดุชุจุงู ุฎุงุต.

Exit: ุจุฑุง ุฎุฑูุฌ ุงุฒ ุจุฑูุงูู.

๐ ูพฺฉุฑุจูุฏ (Configuration)

ุชูุธูุงุช ุงุตู ุงุฒ ุทุฑู ุฏู ูุงู JSON ุงูุฌุงู ูโุดูุฏ.


ฑ. ูุงู config.json (ุจุฑุง Master ู Client)

ุงู ูุงู ุญุงู ุงุทูุงุนุงุช ุณุฑูุฑ ุงุณุช ฺฉู ุงุณฺฉุฑูพุช ุฑู ุขู ุงุฌุฑุง ูโุดูุฏ ู ููฺูู ูุณุช ููุตุฏูุง ฺฉู ุจุงุฏ ูพูฺฏ ุดููุฏ.

ูุซุงู:

```JSON

{
  "CLname": "Germany-Hetzner",
  "CLipv4": "***.***.***.***",
  "ID_ip4/ip6_name": [
    "***.***.***.***,Server-1",
    "***.***.***.***,Server-2",
    "***.***.***.***,Server-3"
  ],
  "ping_interval_seconds": 60,
  "packet_count": 10,
  "packet_loss_threshold_percent": 20,
  "Master_server_info": "master server ip:port"  #(Clients)
}
```
ุชูุถุญุงุช ูุงู config.json :
```JSON
CLname: ูุงู ุฏูุฎูุงู ุจุฑุง ุณุฑูุฑ ฺฉูุงูุช (ูุซูุงู ูุงู ุฏุชุงุณูุชุฑ).
CLipv4: ุขุฏุฑุณ IPv4 ุณุฑูุฑ ฺฉู ฺฉูุงูุช ุฑู ุขู ูุตุจ ุงุณุช.
ID_ip4/ip6_name: ูุณุช ุงุฒ ุณุฑูุฑูุง ฺฉู ุจุงุฏ ูพูฺฏ ุดููุฏ. ูุฑ ุขุชู ฺฉ ุฑุดุชู ุจุง ูุฑูุช "ID,IPv4,IPv6,Name" ุงุณุช.
ID: ฺฉ ุดูุงุฑู ููุญุตุฑ ุจู ูุฑุฏ ุจุฑุง ูุฑ ุณุฑูุฑ.
IPv4: ุขุฏุฑุณ IPv4 ููุตุฏ.
IPv6: ุขุฏุฑุณ IPv6 ููุตุฏ (ุงฺฏุฑ ูุฌูุฏ ูุฏุงุฑุฏ ุฎุงู ุจฺฏุฐุงุฑุฏ).
Name: ูุงู ุฏูุฎูุงู ุจุฑุง ุณุฑูุฑ ููุตุฏ.
ping_interval_seconds: ูุงุตูู ุฒูุงู ุจู ูุฑ ุจุงุฑ ูพูฺฏ (ุจู ุซุงูู).
packet_count: ุชุนุฏุงุฏ ุจุณุชูโูุง ฺฉู ุฏุฑ ูุฑ ูพูฺฏ ุงุฑุณุงู ูโุดูุฏ.
packet_loss_threshold_percent: ุขุณุชุงูู ูุฌุงุฒ ูพฺฉุช ูุงุณุช (ุจู ุฏุฑุตุฏ). ุงฺฏุฑ ูพฺฉุช ูุงุณุช ุงุฒ ุงู ููุฏุงุฑ ุจุดุชุฑ ุดูุฏุ ูพุงู ูุดุฏุงุฑ ุงุฑุณุงู ูโฺฏุฑุฏุฏ.
master server ip:port: ุฏุฑ ุณุฑูุฑ ูุง ฺฉูุงูุช ุจุฑุง ุงุฑุณุงู ุฏุงุฏู ุจู ุณุฑูุฑ ูุณุชุฑ .ูุดุฎุตุงุช ุงูพ ู ูพูุฑุช ุณุฑูุฑ ูุณุชุฑ
```
ฒ. ูุงู master_config.json (ููุท ุจุฑุง Master)

ุงู ูุงู ุญุงู ุงุทูุงุนุงุช ูุญุฑูุงูู ุฑุจุงุช ุชูฺฏุฑุงู ุงุณุช ู ููุท ุฑู ุณุฑูุฑ Master ุงุณุชูุงุฏู ูโุดูุฏ.


ูุซุงู:

```JSON


  "listen_port": 9090,
  "report_timeout_minute": 15,
  "expected_clients": {
    "Number of Servers": {
      "CLipv4_M": "************",
      "CLname_M": "Germany-Hetzner",
      "tests": {
        "1": "Server-1",
        "2": "Server-2",
        "3": "Server-3"
      }
    }
{
  "telegram_bot_token": "************",
  "telegram_chat_id": "************"
}
```
ุชูุถุญุงุช ูุงู master_config.json :
```JSON
listen_port: ูพูุฑุช ุจุฑุง ุฏุฑุงูุช ุงุทูุงุนุงุช ุงุฒ ุณุฑูุฑ ูุง ฺฉูุงูุช
report_timeout_minute: ููุฏุงุฑ ุฒูุงู ุชุงู ุงูุช ุฏุฑ ุงูุช ูฺฉุฑุฏู ุงุทูุงุนุงุช
expected_clients: ุณุฑูุฑ ูุง ฺฉู ูุณุชุฑ ุงูุชุธุงุฑ ุฏุงุฑุฏ ุงุฒ ุงููุง ุงุทูุงุนุงุช ุฏุฑุงูุช ฺฉูุฏ ฺฉู ุฏุฑ ุตูุฑุช ุฏุฑุงูุช ูุดุฏู ุงุทูุงุนุงุช ุงู ุฑุง ููุงุด ุฏูุฏ
telegram_bot_token: ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู ุดูุง ฺฉู ุงุฒ BotFather ุฏุฑุงูุช ฺฉุฑุฏูโุงุฏ.
telegram_chat_id: ุดูุงุณู ฺุชุ ฺฉุงูุงู ุง ฺฏุฑูู ฺฉู ูโุฎูุงูุฏ ฺฏุฒุงุฑุดโูุง ุจู ุขูุฌุง ุงุฑุณุงู ุดูุฏ.
Number of Servers:ุฒุฑุง ฺฉู ุณุฑูุฑ ูุณุชุฑ ุจู ุตูุฑุช ูพุด ูุฑุถ ฺฉ ุณุฑูุฑ ฺฉูุงูุช ุญุณุงุจ ู ููุฑุฏ ุชุณุช ูุฑุงุฑ ูฺฏุฑุฏ ุ ูพุณ ุงู ููุฏุงุฑ ุจุง ุนุฏุฏ 2 ุดุฑูุน ูฺฏุฑุฏุฏ
```


๐ค ุงู ูพุฑูฺู ุจุง ฺฉูฺฉ ููุด ูุตููุน ุฏุฑุณุช ุดุฏู ุงุณุช ุจูุงุจุฑุงู ููฺฉู ุงุณุช ฺุฒูุง ุฏุฑูู ุขู ุฑุนุงุช ูุดุฏู ุจุงุดุฏ ุฏุฑ ุตูุฑุช ฺฉู ูุงุฏุฑ ุจูุฏุฏ ูุชููุฏ ุขู ุฑุง ููุฑฺฉ ู ุชฺฉูู ฺฉูุฏ.
